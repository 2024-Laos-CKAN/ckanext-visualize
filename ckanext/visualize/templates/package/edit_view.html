{% ckan_extends %}

{% block scripts %}
  {{ super() }}
  {% if resource_view.view_type == 'visualize' %}
    {% asset 'visualize/chart-bundle' %}
    {% asset 'visualize/sortable' %}
    {% asset 'visualize/backend-ckan' %}
    {% asset 'visualize/visualize-data' %}
  {%endif %}
{% endblock %}

{% block form %}
  <form class="dataset-form dataset-resource-form" method="post" data-module="basic-form resource-form">
    {% include 'package/snippets/view_form.html' %}
    <input type="hidden" name="visualize_x_axis" />
    <input type="hidden" name="visualize_y_axis" />
    <input type="hidden" name="visualize_color_attr" />
    <div class="form-actions">
      <button class="btn btn-danger pull-left" name="delete" value="Delete"> {{ _('Delete') }} </button>
      <button class="btn btn-default {% if not h.resource_view_display_preview(data) %}hide{%endif%}" name="preview" value="True" type="submit">{{ _('Preview') }}</button>
      <button class="btn btn-primary" name="save" value="Save" type="submit">{{ _('Update') }}</button>
    </div>
  </form>
{% endblock %}
